<?xml version="1.0" encoding="UTF-8"?>

<!-- Don't forget to set system property
-DLog4jContextSelector=org.apache.logging.log4j.core.async.AsyncLoggerContextSelector
     to make all loggers asynchronous. -->

<Configuration status="INFO">
  <Appenders>

    <Console name="Console" target="SYSTEM_OUT">
      <PatternLayout pattern="%d %p [%t]\t%m%n"/>
    </Console>

    <!-- Async Loggers will auto-flush in batches, so switch off immediateFlush. -->
    <RollingFile append="true" bufferSize="65536" fileName="logs/echo.log"
      filePattern="logs/%d{yyyy-MM-dd}.log"
      immediateFlush="false" name="RollingFile">
      <PatternLayout>
        <Pattern>%d %p [%t]\t%m%n</Pattern>
      </PatternLayout>
      <Policies>
        <TimeBasedTriggeringPolicy/>
      </Policies>
    </RollingFile>

  </Appenders>

  <Loggers>
    <Logger additivity="false" level="info" name="com.baidu.brpc">
      <AppenderRef ref="Console"/>
      <AppenderRef ref="RollingFile"/>
    </Logger>

    <Root includeLocation="false" level="info">
      <AppenderRef ref="Console"/>
      <AppenderRef ref="RollingFile"/>
    </Root>
  </Loggers>
</Configuration>